language: node_js

node_js:
  - "6"

services:
  - docker

before_install:
  - pip install --user awscli
  - export PATH=$PATH:$HOME/.local/bin

install:
  - travis_retry npm install
  - npm install aws-sdk -g

script:
  - npm run eslint
  - npm run jsinspect
  - aws configure --profile squeezer-test set aws_access_key_id $aws_access_key_id
  - aws configure --profile squeezer-test set aws_secret_access_key $aws_secret_access_key
  - aws configure --profile squeezer-test set region us-east-1
  - npm run test-units
  - npm run test-integration
